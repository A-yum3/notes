### Before

```javascript
function base(aReading) {...}
function taxableCharge(aReading) {...}
function calculateBaseCharge(aReading) {...}
```

### After

```javascript
class Reading {
	base() {...}
	taxableCharge {...}
	calculateBaseCharge {...}
}
```

### 動機

- 共通のデータに対して互いに関わり合いの深い処理を行う一群の関数があれば、クラスを定義するチャンス
- クラスを使うことで、これらの関数が共有する環境がより明示的になり、関数の引数が大幅に減ることで、オブジェクト内の関数呼び出しを単純化できる
- 断片的に計算を行っている箇所を特定し、新たなクラスのメソッドとしてリファクタリングする良い機会も与えてくれる
- 関数を体系化するもう一つ別の方法として[[関数群の変換への集約]]がある
	- どっちを採用するかは、プログラムの大きな文脈によって決まる
	- クラスの利点は、利用者側がオブジェクトの核となるデータを変更でき、そこから派生したデータも一貫性が保たれること

### 手順

- 関数間で共有しているデータのレコードに[[レコードのカプセル化]]を施す
	- 関数間で共有されているデータが、レコード構造としてまとめられていない場合は[[パラメータオブジェクトの導入]]を施し、それらをまとめるレコードを作る
- [[関数の移動]]を適用して、共通レコードを扱う関数をそれぞれ、新たなクラスへと移す
- データを操作するロジックの断片があれば、それぞれ[[関数の抽出]]で抽出してクラスへ移す
