## ユニットテストの現状

- ユニットテストの導入は必須と考えられるようになった
- 「良いユニットテストとは何か」という議論はあまり行われていない
- 悪いテストだとテストなしの状況とほとんど同じくらいまでコストが上がる

![[スクリーンショット 2021-10-13 10.51.01.png]]

## ユニットテストの目的

- ユニットテストができるということはテスタビリティの高い良いコード？
	- ユニットテストができないコードはあまり良くないコードとは言えるが、ユニットテストができるから良いコードとは限らない
- プロジェクトの持続的な成長を可能にすることが重要
	- テストがないプロジェクトは開発スピードが大幅に落ち、場合によっては何もできなくなる
	- 悪いテストが多い場合も同様の傾向に収束する。
	- コストの要素
		- 基礎となるコードをリファクタリングする際に、テストをリファクタリング
		- コード変更のたびにテストを実行
		- テストによる誤認識への対応
		- 根本的なコードの動作を理解しようとしているときに、テストを読むのに時間がかかる
	- 本番コードと同様にテストコードも扱う必要がある
- 優れたユニットテストのあるプロジェクトは機能修正や新機能の追加が容易になる

 

## カバレッジによる品質測定

- カバレッジは指標になるが、目指してはいけないし信じてもいけない
	- やり方次第で簡単にカバレッジを上げることができる
	- 外部ライブラリのカバレッジメトリクスはない
- システムの中で核に近い部分のカバレッジを持つことは良いことだが、特定のカバレッジを要件としてしまうのは良くない

## 成功するテストスイートの条件

- 開発サイクルに組み込まれている
- コードベースの最も重要な部分のみ対象としている
- 最小限のメンテナンスコストで最大限の価値を提供する
