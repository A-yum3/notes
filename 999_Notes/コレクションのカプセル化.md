### Before

```javascript
class Person {
	get courses() {return this._courses;}
	set courses(aList) {this._courses = aList;}
}
```

### After

```javascript
class Person {
	get courses() {return this._courses.slice();}
	addCourse(aCourse) {...}
	removeCourse(aCourse) {...}
}
```

### 動機

- 変更可能なデータがあればカプセル化したくなる
- コレクションの扱いについては誤りがある場合がある
	- getterでコレクションそのものを返してしまうとコレクションを保持するクラスを介さずにその中身を変更できてしまう
		- これを避けるためにコレクションの中身を変更するメソッドをクラスに用意する
- 一般的な方法
	- コレクションの取得メソッドを用意し、それにコレクションのコピーを変えさせる

### 手順

- コレクションの参照がまだカプセル化されていないなら[[変数のカプセル化]]を施す
- 要素を追加・削除するための関数をコレクションに追加する
	- コレクションのsetterがある場合、可能なら[[setterの削除]]を施す。不可能ならコレクションのコピーを返すようにする
- 静的チェックを実行する
- すべてのコレクションの参照を探す。コレクションの変更メソッドを呼んでいる場合は、新たな追加・削除のメソッドを使うようにすべて書き換える。変更のたびにテストする。
- コレクションのgetterを変更して保護されたビュー（readonlyまたはcopy）を返すようにする
- テストする
