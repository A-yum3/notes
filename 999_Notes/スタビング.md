### スタビングを使いすぎることによる危険

- テストに適用するのが非常に容易
- スタビングを使いすぎると、テストを保守する必要のあるエンジニアの生産性が大きく損なわれる恐れがある

#### テストが不明確になる

- スタブ化される関数の挙動wお定義するために余分にコードを描く必要がある
	- テストの意図の明確さが削がれる
	- コードが難解化する
- スタビングが適していないことを示す重要な兆候は、テスト内のある関数がスタブ化されている理由を理解するために、テスト対象システムを自分の頭の中でステップ実行してしまっているかどうかに気づくこと

#### テストが脆くなる

- スタビングはコードの実装詳細をテスト内に漏洩する
- 本番環境向けコード内の実装詳細が変化する場合、その変更を反映するようにテストを更新する必要がある
- ユーザーに即したAPIが変化する場合にのみ変化の必要があるべきであり、APIの実装の変更に影響されない状態を保つべきである

#### テストの効果が落ちる

- テスト対象システムが本物の実装の契約に依存しているなら、スタビングを行うことは下手な選択
	- 契約の詳細を複製することを強いられるし、契約が正しいことを保証しようがない
		- スタブ化されている関数に本物の実装への忠実性があることが保証できない
	- スタビングの場合、状態を保存することが不可能

#### スタビングが適切な場合はどんな場合か

- テスト対象システムをある状態に遷移させるために関数が特定の値を返さなければならない場合
- スタブ化される関数が多いと明確性が落ちる
	- そういった場合はリファクタリングされるべきであることを示す兆候
- 本物の実装またはフェイクはスタンピングに比べてコードの正しさに関して与える保証が厚くなるので、スタンピングが適切な場合でも本物の実装またはフェイクが依然として優先される点に留意する
